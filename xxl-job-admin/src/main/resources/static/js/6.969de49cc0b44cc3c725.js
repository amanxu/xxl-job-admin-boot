webpackJsonp([6],{DMAF:function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n.app-container[data-v-2e17a256] {\n  padding: 20px;\n}\n.pagination-container[data-v-2e17a256] {\n  margin-top: 30px;\n}\n","",{version:3,sources:["D:/vuework/xxl-job-admin-vue-h5/src/views/users/auth.vue"],names:[],mappings:";AACA;EACE,cAAc;CACf;AACD;EACE,iBAAiB;CAClB",file:"auth.vue",sourcesContent:["\n.app-container[data-v-2e17a256] {\n  padding: 20px;\n}\n.pagination-container[data-v-2e17a256] {\n  margin-top: 30px;\n}\n"],sourceRoot:""}])},GPxH:function(e,t,a){var n=a("jPut");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("e31d57e0",n,!0)},LA6i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("TIfe"),i=a("vLgD"),s=a("0xDb");var o=a("COTu"),r={name:"list",props:{},data:function(){return{dialogFormVisible:!1,userTypeCode:-1,userTypes:[{code:0,msg:"超级管理员"},{code:1,msg:"普通用户"}],headers:{},form:{id:"",userName:"",realName:"",phone:0,userType:""},rules:{appName:[{required:!0,message:"请输入用户名",trigger:"blur"}],userType:[{required:!0,message:"请选择用户类型",trigger:"blur"}]},list:null,total:null,listLoading:!0,listQuery:{userName:"",pageNo:1,pageSize:10},tableKey:0,transferModel:[],transferData:[],groupIds:[],addParams:{userId:null,groupIds:[]}}},created:function(){this.getGroupList()},mounted:function(){this.headers={accessToken:Object(n.a)()},this.getList()},watch:{},methods:{getInitData:function(){var e=[];return this.groups.forEach(function(t){e.push({key:t.id,label:t.title})}),e},getList:function(){var e,t=this;(e=this.listQuery,Object(i.a)({url:s.b+"/auth/list",method:"post",data:e})).then(function(e){var a=e.code,n=e.content,i=n.list,s=n.total;200===a&&(t.list=i,t.total=s,0===t.total&&t.$message({message:"用户列表为空",type:"warning"})),t.listLoading=!1})},getGroupList:function(){var e=this;this.$forceUpdate(),Object(o.c)().then(function(t){var a=t.code,n=t.content;200===a?(e.groups=n,e.transferModel=e.getInitData()):e.$message(t.msg)}).catch(function(e){console.log(e.message)})},submitForm:function(){var e,t=this;this.addParams.groupIds=this.transferData,(e=this.addParams,Object(i.a)({url:s.b+"/auth/authOperate",method:"post",data:e})).then(function(e){200===e.code&&(t.$message({message:"操作成功",type:"success"}),t.dialogFormVisible=!1,t.getList(),t.getGroupList())}).catch(function(e){this.$message(e.message)})},authOperate:function(e){this.transferData=e.selectedGroupIds,this.addParams.userId=e.id,this.dialogFormVisible=!0},handleChange:function(e,t,a){console.log(e,t,a)},handleFilter:function(){this.listQuery.pageNo=1,this.getList()},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.pageNo=e,this.getList()},handleRefresh:function(){this.list=null,this.total=null,this.listQuery.pageNo=1,this.getList()}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"}},[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("账户名")]),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"账户名/姓名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.userName,callback:function(t){e.$set(e.listQuery,"userName",t)},expression:"listQuery.userName"}}),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"list",staticStyle:{width:"100%"},attrs:{data:e.list,"element-loading-text":"数据加载中，请稍后",border:"",fit:"","highlight-current-row":"","select-on-indeterminate":""}},[a("el-table-column",{attrs:{align:"center",label:"ID","min-width":"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"link-type"},[e._v(e._s(t.row.id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"用户名","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"link-type"},[e._v(e._s(t.row.userName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",align:"center",label:"姓名","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.realName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",align:"center",label:"用户类型","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{adminColor:0===t.row.userType,normalColor:1===t.row.userType}},[e._v(e._s(t.row.userTypeDesc))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","min-width":"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"success",disabled:0===t.row.userType},on:{click:function(a){e.authOperate(t.row)}}},[e._v("权限管理\n        ")])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.pageNo,"page-sizes":[10,20,30,50],"page-size":e.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"pageNo",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"权限编辑",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-transfer",{staticStyle:{"text-align":"left",display:"inline-block"},attrs:{filterable:"","left-default-checked":[],"right-default-checked":[],titles:["未分配","已分配"],"button-texts":["",""],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:e.transferModel},on:{change:e.handleChange},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return a("span",{},[e._v(e._s(n.label))])}}]),model:{value:e.transferData,callback:function(t){e.transferData=t},expression:"transferData"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(r,l,!1,function(e){a("yfCV"),a("GPxH")},"data-v-2e17a256",null);t.default=u.exports},jPut:function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n.el-transfer-panel__list.is-filterable {\n  height: 320px;\n}\n.el-transfer-panel {\n  width: 220px;\n  height: 360px;\n}\n.dialogModifyLessonManage .el-dialog__header {\n  padding-bottom: 0;\n}\n.dialogModifyLessonManage .el-dialog__body {\n  padding: 0;\n}\n.dialogModifyLessonManage .createPost-main-container {\n  padding: 20px 0 !important;\n}\n","",{version:3,sources:["D:/vuework/xxl-job-admin-vue-h5/src/views/users/auth.vue"],names:[],mappings:";AACA;EACE,cAAc;CACf;AACD;EACE,aAAa;EACb,cAAc;CACf;AACD;EACE,kBAAkB;CACnB;AACD;EACE,WAAW;CACZ;AACD;EACE,2BAA2B;CAC5B",file:"auth.vue",sourcesContent:["\n.el-transfer-panel__list.is-filterable {\n  height: 320px;\n}\n.el-transfer-panel {\n  width: 220px;\n  height: 360px;\n}\n.dialogModifyLessonManage .el-dialog__header {\n  padding-bottom: 0;\n}\n.dialogModifyLessonManage .el-dialog__body {\n  padding: 0;\n}\n.dialogModifyLessonManage .createPost-main-container {\n  padding: 20px 0 !important;\n}\n"],sourceRoot:""}])},yfCV:function(e,t,a){var n=a("DMAF");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("829ba010",n,!0)}});
//# sourceMappingURL=6.969de49cc0b44cc3c725.js.map